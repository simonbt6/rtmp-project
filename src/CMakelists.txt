cmake_minimum_required(VERSION 3.20)

project(rtmp_lib)

set (rtmp_libs
    "core/RTMPHandler.cpp"
    "core/RTMPMessage.cpp"
    "core/RTMPParser.cpp"
    "core/RTMPResponse.cpp"
    
    "codecs/VideoDecoder.cpp"
    
    "utils/FileManager.cpp"
)

set (includes "../includes/")
set (libs "../libs/")

add_subdirectory(graphics)
add_subdirectory(maths)

add_library(rtmp_lib ${rtmp_libs})

target_include_directories(rtmp_lib PUBLIC / ${includes} ${includes}/ffmpeg ../libs/glfw/include/ ../libs/glfw/deps)
target_link_libraries(rtmp_lib rtmp_graphics)
target_link_libraries(rtmp_lib rtmp_maths)
target_link_libraries(rtmp_lib glfw)
target_link_libraries(rtmp_lib glad)
